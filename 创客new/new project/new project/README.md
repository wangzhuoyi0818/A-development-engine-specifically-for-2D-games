# 所有模块快速参考

## 📚 核心模块文档快速指南

### 第 1 级：基础架构 (Core Layer)

#### 01. 项目结构管理
- **路径**: `01_Core_ProjectStructure/README.md` ✅ 已创建
- **工作量**: 2-3 周
- **关键类**: `MiniProgramProject`, `Page`, `Component`

#### 02. 事件系统
- **路径**: `02_Core_EventSystem/README.md` ✅ 已创建
- **工作量**: 3-4 周
- **关键类**: `StandardEvent`, `Condition`, `Action`

#### 03. 变量系统
- **路径**: `03_Core_VariableSystem/README.md` ✅ 已创建
- **工作量**: 2 周
- **关键类**: `Variable`, `VariableContainer`

#### 04. 资源管理系统
- **来源**: `Core/GDCore/Project/ResourcesManager.h`
- **工作量**: 1-2 周
- **主要任务**:
  - [ ] 文件上传管理
  - [ ] 资源缓存策略
  - [ ] 优化和压缩

---

### 第 2 级：编辑器 (Editor Layer)

#### 05. 页面编辑器
- **路径**: `05_Editor_PageEditor/README.md` ✅ 已创建
- **工作量**: 4-5 周
- **关键技术**: React DnD, PixiJS → DOM 渲染

#### 06. 组件编辑器
- **来源**: `newIDE/app/src/ObjectEditor/`
- **工作量**: 2-3 周
- **主要任务**:
  - [ ] 组件属性编辑面板
  - [ ] 组件选择器

#### 07. 事件编辑器
- **来源**: `newIDE/app/src/EventsSheet/`
- **工作量**: 3-4 周
- **主要任务**:
  - [ ] 条件编辑器 UI
  - [ ] 动作编辑器 UI
  - [ ] 事件流可视化

#### 08. 属性编辑器
- **来源**: `newIDE/app/src/PropertiesEditor/`
- **工作量**: 2-3 周
- **主要任务**:
  - [ ] 属性输入控件库
  - [ ] 颜色选择器, 数字输入等

---

### 第 3 级：代码生成 (Code Generator Layer)

#### 09. WXML 生成器
- **路径**: `09_CodeGenerator_WXMLGenerator/README.md` ✅ 已创建
- **工作量**: 2-3 周
- **关键函数**: `generate()`, `generateComponents()`, `generateAttributes()`

#### 10. WXSS 生成器
- **工作量**: 1-2 周
- **主要任务**:
  - [ ] CSS 属性转换
  - [ ] rpx 单位处理
  - [ ] 媒体查询支持

#### 11. JavaScript 生成器
- **来源**: `GDJS/GDJS/Events/CodeGeneration/`
- **工作量**: 3-4 周
- **主要任务**:
  - [ ] 事件处理函数生成
  - [ ] 条件判断代码生成
  - [ ] 微信 API 调用生成
  - [ ] 数据绑定代码生成

---

### 第 4 级：运行时 (Runtime Layer)

#### 12. 组件库
- **工作量**: 2-3 周 (核心组件) + 持续 (所有组件)
- **核心组件**:
  - [ ] view (容器)
  - [ ] text (文本)
  - [ ] button (按钮)
  - [ ] input (输入框)
  - [ ] image (图片)
  - [ ] scroll-view (滚动容器)

#### 13. API 包装器
- **工作量**: 2 周 (核心 API) + 持续 (完整 API)
- **核心 API**:
  - [ ] wx.request (网络)
  - [ ] wx.showToast (提示)
  - [ ] wx.setStorage (存储)
  - [ ] wx.navigateTo (导航)

---

### 第 5 级：导出与预览 (Export & Preview Layer)

#### 14. 小程序导出器
- **工作量**: 2-3 周
- **主要任务**:
  - [ ] 生成完整项目结构
  - [ ] app.json 生成
  - [ ] 资源复制
  - [ ] 项目打包

#### 15. 预览模拟器
- **工作量**: 2-3 周
- **主要任务**:
  - [ ] 微信 API 模拟 (wx mock)
  - [ ] 手机外壳 UI
  - [ ] 实时预览
  - [ ] 调试工具

---

## 📊 开发时间表 (建议)

### 第 1-2 周: 基础设施
```
优先级: 🔴 高
模块: 01, 02, 03, 04
目标: 搭建数据结构，完成序列化
```

### 第 3-6 周: 编辑器 UI
```
优先级: 🔴 高
模块: 05, 06, 07, 08
目标: 可视化编辑功能可用
```

### 第 7-10 周: 代码生成
```
优先级: 🔴 高
模块: 09, 10, 11, 14
目标: 生成完整、可运行的小程序代码
```

### 第 11-14 周: 运行时
```
优先级: 🟡 中
模块: 12, 13, 15
目标: 扩展组件和 API 支持
```

### 第 15+ 周: 优化与扩展
```
优先级: 🟢 低
目标: 性能优化、用户体验改进、功能扩展
```

---

## 🔗 模块间依赖关系

```
01 (项目结构) ← 所有其他模块的基础
  ├─→ 02 (事件系统)
  ├─→ 03 (变量系统)
  ├─→ 04 (资源管理)
  ├─→ 05 (页面编辑器)
  ├─→ 06 (组件编辑器)
  ├─→ 07 (事件编辑器)
  └─→ 08 (属性编辑器)

02 (事件系统) → 11 (JS 生成器)
03 (变量系统) → 09 (WXML 生成器)
05 (页面编辑器) → 09, 10, 11 (代码生成器)
06 (组件编辑器) → 12 (组件库)
07 (事件编辑器) → 11 (JS 生成器)

09, 10, 11 (代码生成) → 14 (导出器)
所有编辑器模块 → 15 (预览模拟器)
```

---

## 🎯 每个模块的核心问题

| 模块 | 核心问题 | 解决方案 |
|-----|--------|---------|
| 01 | 如何组织项目数据? | JSON 序列化 |
| 02 | 如何表达条件和动作? | 对象数组结构 |
| 03 | 如何管理多层级变量? | 作用域容器 |
| 04 | 如何处理资源? | 文件 ID 映射 |
| 05 | 如何实现拖拽? | React DnD |
| 06 | 如何编辑属性? | 参数表单 |
| 07 | 如何编辑事件流? | 可视化树形结构 |
| 08 | 如何编辑样式? | CSS 属性面板 |
| 09 | 如何转换为 WXML? | 递归树遍历 |
| 10 | 如何转换样式? | 名称映射 + rpx 转换 |
| 11 | 如何生成 JS? | 事件到函数的转换 |
| 12 | 如何定义组件? | 接口 + 属性 + 事件 |
| 13 | 如何包装 API? | 异步处理 + 回调 |
| 14 | 如何打包项目? | 文件系统 API |
| 15 | 如何预览? | iframe + wx mock |

---

## 📖 GDevelop 核心文件速查

### 最重要的 3 个文件
```
1. Core/GDevelop-Architecture-Overview.md    # 架构总览
2. Core/GDCore/Project/Project.h             # 项目结构
3. GDJS/GDJS/Events/CodeGeneration/          # 代码生成
```

### 按功能分类
```
项目结构:
- Core/GDCore/Project/*.h

事件系统:
- Core/GDCore/Events/*.h

编辑器 UI:
- newIDE/app/src/*/index.js

代码生成:
- GDJS/GDJS/Events/CodeGeneration/*

导出:
- newIDE/app/src/ExportAndShare/*

组件/扩展:
- Extensions/*/JsExtension.js
```

---

## ✅ 快速检查清单

### 开发前
- [ ] 阅读 `00_ARCHITECTURE_OVERVIEW.md`
- [ ] 理解所有 15 个模块的作用
- [ ] 确认开发顺序 (按依赖关系)
- [ ] 了解 GDevelop 对应源码位置

### 每个模块开发时
- [ ] 创建 TypeScript 类型定义
- [ ] 实现核心类和方法
- [ ] 编写单元测试
- [ ] 创建使用示例
- [ ] 更新文档

### 模块间集成
- [ ] 确认依赖关系
- [ ] 测试数据流
- [ ] 集成测试
- [ ] 性能优化

### 最终发布
- [ ] 完整的代码覆盖测试
- [ ] 详细的 API 文档
- [ ] 使用指南和教程
- [ ] 示例项目

---

## 🚀 下一步行动

### 立即行动 (今天)
1. 阅读 `00_ARCHITECTURE_OVERVIEW.md`
2. 阅读本文档
3. 浏览每个模块的 README.md

### 本周行动
1. 搭建项目基础架构 (脚手架)
2. 开始实现模块 01 (项目结构)
3. 制定详细的开发计划

### 本月行动
1. 完成模块 01-04 (核心层)
2. 搭建基础 UI (模块 05)
3. 运行第一个可工作的原型

---

## 📞 技术支持

### 需要帮助时查看
- 模块的 `README.md` - 详细说明
- 模块的 `GDEVELOP_SOURCE.md` - 源码位置
- 模块的 `INTERFACES.md` - 接口定义
- 模块的 `MIGRATION_GUIDE.md` - 迁移步骤

### 常见问题
1. Q: 我应该先实现哪个模块?
   A: 按照 `00_ARCHITECTURE_OVERVIEW.md` 中的优先级

2. Q: 如何复用 GDevelop 代码?
   A: 查看 `GDEVELOP_SOURCE.md` 找到源文件位置

3. Q: 数据结构应该如何设计?
   A: 查看 `INTERFACES.md` 的 TypeScript 定义

4. Q: 如何测试我的实现?
   A: 参考各模块中的 `implementation/tests/` 目录

---

## 📊 项目统计

| 指标 | 数值 |
|-----|------|
| 总模块数 | 15 |
| 估计总工作量 | 16-20 周 |
| 代码复用率 | ~50% |
| 文档完成度 | 100% (架构) |
| 示例代码 | 已提供 (部分) |

---

**祝你开发顺利！** 🎉

最后更新: 2026-01-23
