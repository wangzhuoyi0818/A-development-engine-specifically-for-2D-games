# æ»šåŠ¨åœºæ™¯ç³»ç»Ÿå®žçŽ°å®Œæˆ âœ…

## åŠŸèƒ½æ¦‚è¿°

å·²æˆåŠŸä¸ºå¾®ä¿¡å°ç¨‹åºå¯è§†åŒ–å¼€å‘å¹³å°æ·»åŠ äº†**æ‘„åƒæœºæ»šåŠ¨åœºæ™¯ç³»ç»Ÿ**ï¼Œæ”¯æŒï¼š

- ðŸ“¹ æ‘„åƒæœºè·Ÿéšè§’è‰²
- ðŸ“œ è¶…é•¿åœºæ™¯æ»šåŠ¨
- ðŸ”ï¸ å¤šå±‚è§†å·®èƒŒæ™¯
- ðŸ”„ å¾ªçŽ¯èƒŒæ™¯
- ðŸ‘† æ‰‹åŠ¨æ‹–æ‹½è§†å£
- ðŸ§­ å¯é…ç½®æ»šåŠ¨æ–¹å‘ï¼ˆæ¨ªå‘/çºµå‘/è‡ªç”±ï¼‰
- ðŸ”² å¯é…ç½®è¾¹ç•Œæ¨¡å¼ï¼ˆæœ‰è¾¹ç•Œ/æ— é™å¾ªçŽ¯ï¼‰

---

## å·²å®Œæˆçš„å·¥ä½œ

### 1. åˆ›å»ºäº† Camera æ‘„åƒæœºç±» âœ…

**æ–‡ä»¶**ï¼š`src/engine/Camera.ts`

**åŠŸèƒ½**ï¼š
- æ‘„åƒæœºä½ç½®ç®¡ç†
- è§’è‰²è·Ÿéšï¼ˆå¹³æ»‘è·Ÿéšç®—æ³•ï¼‰
- è§†å£ä¸Žåœºæ™¯åæ ‡è½¬æ¢
- è¾¹ç•Œé™åˆ¶å’Œæ— é™å¾ªçŽ¯æ¨¡å¼
- æ‰‹åŠ¨æ‹–æ‹½æ”¯æŒ
- å¯é…ç½®æ»šåŠ¨æ–¹å‘

### 2. æ·»åŠ äº† 7 ä¸ªæ–°ç§¯æœ¨ âœ…

**åˆ†ç±»**ï¼šæ¸¸æˆæ‘„åƒæœºç±»ï¼ˆæ·±è“è‰² #1E90FFï¼‰

#### ðŸ“¹ æ‘„åƒæœºè·Ÿéš
- **å‚æ•°**ï¼šå¯ç”¨è·Ÿéšï¼ˆå¸ƒå°”ï¼‰ã€è·Ÿéšé€Ÿåº¦ï¼ˆ0-1ï¼‰
- **åŠŸèƒ½**ï¼šè®©æ‘„åƒæœºå¹³æ»‘è·Ÿéšå½“å‰è§’è‰²

#### ðŸ—ºï¸ è®¾ç½®åœºæ™¯å¤§å°
- **å‚æ•°**ï¼šå®½åº¦ã€é«˜åº¦
- **åŠŸèƒ½**ï¼šå®šä¹‰æ¸¸æˆåœºæ™¯çš„æ€»å¤§å°
- **ç¤ºä¾‹**ï¼šè®¾ç½®åœºæ™¯å¤§å° 3000Ã—600

#### ðŸ–¼ï¸ è®¾ç½®èƒŒæ™¯å›¾åƒ
- **å‚æ•°**ï¼šå›¾ç‰‡URLã€æ˜¯å¦å¾ªçŽ¯
- **åŠŸèƒ½**ï¼šåŠ è½½å•å¼ è¶…é•¿èƒŒæ™¯å›¾
- **æ”¯æŒ**ï¼šå¾ªçŽ¯æ¨¡å¼ï¼ˆæ— ç¼é‡å¤ï¼‰

#### ðŸ”ï¸ æ·»åŠ è§†å·®èƒŒæ™¯å±‚
- **å‚æ•°**ï¼šå›¾ç‰‡URLã€æ»šåŠ¨é€Ÿåº¦ã€å±‚çº§ï¼ˆè¿œæ™¯/ä¸­æ™¯/è¿‘æ™¯ï¼‰
- **åŠŸèƒ½**ï¼šæ·»åŠ å¤šå±‚è§†å·®æ•ˆæžœ
- **è¯´æ˜Ž**ï¼š
  - è¿œæ™¯æ»šåŠ¨æ…¢ï¼ˆå¦‚ï¼šé€Ÿåº¦ 0.3ï¼‰
  - ä¸­æ™¯æ­£å¸¸ï¼ˆå¦‚ï¼šé€Ÿåº¦ 0.5ï¼‰
  - è¿‘æ™¯æ»šåŠ¨å¿«ï¼ˆå¦‚ï¼šé€Ÿåº¦ 0.8ï¼‰

#### â†”ï¸ è®¾ç½®æ»šåŠ¨æ–¹å‘
- **é€‰é¡¹**ï¼šæ¨ªå‘æ»šåŠ¨ã€çºµå‘æ»šåŠ¨ã€è‡ªç”±æ»šåŠ¨
- **åŠŸèƒ½**ï¼šé™åˆ¶æ‘„åƒæœºç§»åŠ¨æ–¹å‘

#### ðŸ”² è®¾ç½®è¾¹ç•Œæ¨¡å¼
- **é€‰é¡¹**ï¼šæœ‰è¾¹ç•Œã€æ— é™å¾ªçŽ¯
- **åŠŸèƒ½**ï¼š
  - æœ‰è¾¹ç•Œï¼šåˆ°è¾¾åœºæ™¯è¾¹ç¼˜åœæ­¢
  - æ— é™å¾ªçŽ¯ï¼šèƒŒæ™¯æ— ç¼å¾ªçŽ¯ï¼Œé€‚åˆæ— é™è·‘é…·

#### ðŸ‘† å¯ç”¨æ‰‹åŠ¨æ‹–æ‹½
- **å‚æ•°**ï¼šå¯ç”¨ï¼ˆå¸ƒå°”ï¼‰
- **åŠŸèƒ½**ï¼šå…è®¸çŽ©å®¶æ‹–æ‹½è§†å£æŸ¥çœ‹å…¶ä»–åŒºåŸŸ

### 3. å®žçŽ°äº†ç§¯æœ¨æ‰§è¡Œé€»è¾‘ âœ…

**æ–‡ä»¶**ï¼š`src/engine/BlockExecutor.ts`

æ‰€æœ‰ 7 ä¸ªç§¯æœ¨éƒ½å·²å®žçŽ°å®Œæ•´çš„æ‰§è¡Œé€»è¾‘ï¼Œå¯ä»¥ï¼š
- æŽ§åˆ¶æ‘„åƒæœºè·Ÿéš
- é…ç½®åœºæ™¯å’ŒèƒŒæ™¯
- åˆ‡æ¢æ»šåŠ¨æ¨¡å¼
- è®¾ç½®è¾¹ç•Œè¡Œä¸º

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ¨ªå‘å·è½´æ¸¸æˆï¼ˆè¶…çº§é©¬é‡Œå¥¥é£Žæ ¼ï¼‰

```
å½“æ¸¸æˆå¼€å§‹æ—¶
  â”œâ”€ è®¾ç½®åœºæ™¯å¤§å° 3000Ã—600
  â”œâ”€ è®¾ç½®æ»šåŠ¨æ–¹å‘ æ¨ªå‘æ»šåŠ¨
  â”œâ”€ è®¾ç½®è¾¹ç•Œæ¨¡å¼ æœ‰è¾¹ç•Œ
  â”œâ”€ è®¾ç½®èƒŒæ™¯å›¾ "forest_bg.png" å¾ªçŽ¯:false
  â”œâ”€ æ·»åŠ è§†å·®å±‚ "mountains.png" é€Ÿåº¦0.3 è¿œæ™¯
  â”œâ”€ æ·»åŠ è§†å·®å±‚ "trees.png" é€Ÿåº¦0.6 è¿‘æ™¯
  â”œâ”€ å¯ç”¨ æ‘„åƒæœºè·Ÿéš é€Ÿåº¦ 0.15
  â””â”€ ç¦ç”¨ æ‰‹åŠ¨æ‹–æ‹½

å½“æŒ‰é”® [A] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:-5 Y:0

å½“æŒ‰é”® [D] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:5 Y:0
```

### ç¤ºä¾‹ 2ï¼šè‡ªç”±æŽ¢ç´¢æ¸¸æˆï¼ˆå¡žå°”è¾¾é£Žæ ¼ï¼‰

```
å½“æ¸¸æˆå¼€å§‹æ—¶
  â”œâ”€ è®¾ç½®åœºæ™¯å¤§å° 3000Ã—3000
  â”œâ”€ è®¾ç½®æ»šåŠ¨æ–¹å‘ è‡ªç”±æ»šåŠ¨
  â”œâ”€ è®¾ç½®è¾¹ç•Œæ¨¡å¼ æœ‰è¾¹ç•Œ
  â”œâ”€ è®¾ç½®èƒŒæ™¯å›¾ "world_map.png" å¾ªçŽ¯:false
  â”œâ”€ å¯ç”¨ æ‘„åƒæœºè·Ÿéš é€Ÿåº¦ 0.2
  â””â”€ å¯ç”¨ æ‰‹åŠ¨æ‹–æ‹½

å½“æŒ‰é”® [W] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:0 Y:-5

å½“æŒ‰é”® [S] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:0 Y:5

å½“æŒ‰é”® [A] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:-5 Y:0

å½“æŒ‰é”® [D] æŒ‰ä¸‹æ—¶
  â””â”€ ç§»åŠ¨ X:5 Y:0
```

### ç¤ºä¾‹ 3ï¼šæ— é™è·‘é…·æ¸¸æˆ

```
å½“æ¸¸æˆå¼€å§‹æ—¶
  â”œâ”€ è®¾ç½®åœºæ™¯å¤§å° 2000Ã—600
  â”œâ”€ è®¾ç½®æ»šåŠ¨æ–¹å‘ æ¨ªå‘æ»šåŠ¨
  â”œâ”€ è®¾ç½®è¾¹ç•Œæ¨¡å¼ æ— é™å¾ªçŽ¯  â† å…³é”®ï¼
  â”œâ”€ è®¾ç½®èƒŒæ™¯å›¾ "sky.png" å¾ªçŽ¯:true
  â”œâ”€ æ·»åŠ è§†å·®å±‚ "clouds.png" é€Ÿåº¦0.4 è¿œæ™¯
  â”œâ”€ æ·»åŠ è§†å·®å±‚ "ground.png" é€Ÿåº¦1.0 è¿‘æ™¯
  â”œâ”€ å¯ç”¨ æ‘„åƒæœºè·Ÿéš é€Ÿåº¦ 0.1
  â””â”€ ç¦ç”¨ æ‰‹åŠ¨æ‹–æ‹½

å½“æ¸¸æˆå¼€å§‹æ—¶ï¼ˆè§’è‰²è‡ªåŠ¨å‰è¿›ï¼‰
  â””â”€ æ°¸è¿œé‡å¤
      â””â”€ ç§»åŠ¨ X:3 Y:0
```

### ç¤ºä¾‹ 4ï¼šè°œé¢˜æ¸¸æˆï¼ˆå¯æ‹–æ‹½æŸ¥çœ‹å…¨å›¾ï¼‰

```
å½“æ¸¸æˆå¼€å§‹æ—¶
  â”œâ”€ è®¾ç½®åœºæ™¯å¤§å° 2400Ã—1600
  â”œâ”€ è®¾ç½®æ»šåŠ¨æ–¹å‘ è‡ªç”±æ»šåŠ¨
  â”œâ”€ è®¾ç½®è¾¹ç•Œæ¨¡å¼ æœ‰è¾¹ç•Œ
  â”œâ”€ è®¾ç½®èƒŒæ™¯å›¾ "puzzle_room.png" å¾ªçŽ¯:false
  â”œâ”€ å¯ç”¨ æ‘„åƒæœºè·Ÿéš é€Ÿåº¦ 0.3
  â””â”€ å¯ç”¨ æ‰‹åŠ¨æ‹–æ‹½  â† çŽ©å®¶å¯ä»¥æ‹–æ‹½æŸ¥çœ‹
```

---

## æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### æ‘„åƒæœºè·Ÿéšç®—æ³•

ä½¿ç”¨**æŒ‡æ•°å¹³æ»‘ç®—æ³•**ï¼š
```typescript
cameraX += (targetX - cameraX) * followSpeed
cameraY += (targetY - cameraY) * followSpeed
```

- `followSpeed` è¶Šå¤§ï¼Œè·Ÿéšè¶Šå¿«ï¼ˆæŽ¨è 0.1-0.3ï¼‰
- æä¾›æµç•…çš„ç›¸æœºè¿åŠ¨ï¼Œé¿å…ç”Ÿç¡¬è·³åŠ¨

### åæ ‡ç³»ç»Ÿ

- **ä¸–ç•Œåæ ‡**ï¼šæ¸¸æˆå¯¹è±¡åœ¨åœºæ™¯ä¸­çš„ç»å¯¹ä½ç½®
- **å±å¹•åæ ‡**ï¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ç›¸å¯¹ä½ç½®
- **è½¬æ¢å…¬å¼**ï¼š
  ```
  å±å¹•X = ä¸–ç•ŒX - æ‘„åƒæœºX + è§†å£å®½åº¦/2
  å±å¹•Y = ä¸–ç•ŒY - æ‘„åƒæœºY + è§†å£é«˜åº¦/2
  ```

### è§†å·®æ»šåŠ¨åŽŸç†

ä¸åŒå±‚ä»¥ä¸åŒé€Ÿåº¦æ»šåŠ¨ï¼š
- è¿œæ™¯å±‚ï¼ˆå¦‚å±±è„‰ï¼‰ï¼šé€Ÿåº¦ Ã— 0.3
- ä¸­æ™¯å±‚ï¼ˆå¦‚å»ºç­‘ï¼‰ï¼šé€Ÿåº¦ Ã— 0.6
- è¿‘æ™¯å±‚ï¼ˆå¦‚æ ‘æœ¨ï¼‰ï¼šé€Ÿåº¦ Ã— 1.0

åˆ›é€ ç«‹ä½“æ·±åº¦æ„Ÿã€‚

### è¾¹ç•Œå¤„ç†

**æœ‰è¾¹ç•Œæ¨¡å¼**ï¼š
```typescript
cameraX = clamp(cameraX, minX, maxX)
cameraY = clamp(cameraY, minY, maxY)
```

**æ— é™å¾ªçŽ¯æ¨¡å¼**ï¼š
```typescript
if (cameraX > sceneWidth) cameraX -= sceneWidth
if (cameraX < 0) cameraX += sceneWidth
```

---

## åŽç»­å·¥ä½œï¼ˆå¾…å®Œæˆï¼‰

ç”±äºŽè¿™æ˜¯æ ¸å¿ƒç³»ç»Ÿå®žçŽ°ï¼Œä»¥ä¸‹éƒ¨åˆ†è¿˜éœ€è¦é›†æˆï¼š

### ðŸš§ å¾…å®Œæˆï¼š
1. **æ¸¸æˆå¼•æ“Žé›†æˆ** - å°† Camera é›†æˆåˆ° GameEngine å’Œ GameLoop
2. **èƒŒæ™¯æ¸²æŸ“å™¨** - å®žçŽ°å®žé™…çš„èƒŒæ™¯å›¾åƒæ¸²æŸ“ï¼ˆCanvas/WebGLï¼‰
3. **æ‹–æ‹½äº‹ä»¶å¤„ç†** - è¿žæŽ¥é¼ æ ‡/è§¦æ‘¸äº‹ä»¶åˆ°æ‘„åƒæœºæ‹–æ‹½
4. **å®Œæ•´æµ‹è¯•** - åœ¨å®žé™…æ¸¸æˆåœºæ™¯ä¸­æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

---

## æ³¨æ„äº‹é¡¹

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **èƒŒæ™¯å›¾ç‰‡å¤§å°**ï¼š
   - æ¨ªå‘æ»šåŠ¨ï¼šå»ºè®® 3000Ã—600 ä»¥å†…
   - çºµå‘æ»šåŠ¨ï¼šå»ºè®® 800Ã—3000 ä»¥å†…
   - è‡ªç”±æ»šåŠ¨ï¼šå»ºè®® 2000Ã—2000 ä»¥å†…

2. **è§†å·®å±‚æ•°é‡**ï¼šå»ºè®®ä¸è¶…è¿‡ 3-4 å±‚

3. **å›¾ç‰‡æ ¼å¼**ï¼š
   - ä½¿ç”¨ PNGï¼ˆæ”¯æŒé€æ˜Žï¼‰æˆ– JPGï¼ˆæ–‡ä»¶æ›´å°ï¼‰
   - å°½é‡åŽ‹ç¼©å›¾ç‰‡å¤§å°

### åæ ‡ç³»è¯´æ˜Ž

- Xè½´ï¼šæ­£å€¼å‘å³ï¼Œè´Ÿå€¼å‘å·¦
- Yè½´ï¼šæ­£å€¼å‘ä¸‹ï¼Œè´Ÿå€¼å‘ä¸Šï¼ˆCanvas åæ ‡ç³»ï¼‰

### å¸¸è§é—®é¢˜

**Q: è§’è‰²å§‹ç»ˆå±…ä¸­å¦‚ä½•å®žçŽ°ï¼Ÿ**
A: ä½¿ç”¨"æ‘„åƒæœºè·Ÿéš"ç§¯æœ¨ï¼Œæ‘„åƒæœºä¼šè‡ªåŠ¨è·Ÿéšè§’è‰²ç§»åŠ¨ã€‚

**Q: å¦‚ä½•å®žçŽ°è§†å·®æ•ˆæžœï¼Ÿ**
A: ä½¿ç”¨"æ·»åŠ è§†å·®èƒŒæ™¯å±‚"ï¼Œè¿œæ™¯ç”¨å°é€Ÿåº¦ï¼ˆ0.2-0.4ï¼‰ï¼Œè¿‘æ™¯ç”¨å¤§é€Ÿåº¦ï¼ˆ0.7-1.0ï¼‰ã€‚

**Q: æ— é™å¾ªçŽ¯éœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ**
A: éœ€è¦èƒŒæ™¯å›¾èƒ½æ— ç¼æ‹¼æŽ¥ï¼Œä¸”è®¾ç½®"è¾¹ç•Œæ¨¡å¼"ä¸º"æ— é™å¾ªçŽ¯"ã€‚

**Q: æ‰‹åŠ¨æ‹–æ‹½ä¼šå½±å“è§’è‰²ç§»åŠ¨å—ï¼Ÿ**
A: æ‹–æ‹½æ—¶æš‚åœè§’è‰²è·Ÿéšï¼Œæ¾æ‰‹åŽæ¢å¤ã€‚

---

## æ–‡ä»¶æ¸…å•

å·²ä¿®æ”¹/åˆ›å»ºçš„æ–‡ä»¶ï¼š

1. âœ… `src/engine/Camera.ts` - æ‘„åƒæœºæ ¸å¿ƒç±»ï¼ˆæ–°å»ºï¼‰
2. âœ… `src/types/block.ts` - ç§¯æœ¨ç±»åž‹å®šä¹‰ï¼ˆå·²ä¿®æ”¹ï¼‰
3. âœ… `src/engine/BlockExecutor.ts` - ç§¯æœ¨æ‰§è¡Œé€»è¾‘ï¼ˆå·²ä¿®æ”¹ï¼‰

---

## å¼€å‘çŠ¶æ€

- âœ… æ‘„åƒæœºç±»å®žçŽ°å®Œæˆ
- âœ… ç§¯æœ¨å®šä¹‰å®Œæˆ
- âœ… ç§¯æœ¨æ‰§è¡Œé€»è¾‘å®Œæˆ
- âœ… ä»£ç ç¼–è¯‘é€šè¿‡
- ðŸš§ æ¸¸æˆå¼•æ“Žé›†æˆï¼ˆå¾…å®Œæˆï¼‰
- ðŸš§ èƒŒæ™¯æ¸²æŸ“å®žçŽ°ï¼ˆå¾…å®Œæˆï¼‰
- ðŸš§ æ‹–æ‹½äº‹ä»¶é›†æˆï¼ˆå¾…å®Œæˆï¼‰

æœåŠ¡å™¨è¿è¡Œåœ¨ï¼š**http://localhost:3003/**
