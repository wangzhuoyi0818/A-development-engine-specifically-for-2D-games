# 隐形平台功能使用说明

## 功能概述

隐形平台是一种特殊的游戏元素，它不可见但具有碰撞体积，角色可以在上面行走。玩家可以通过积木编程来控制平台的放置和移除。

## 新增积木

在**游戏物理类**积木分类中，新增了两个积木：

### 1. 放置隐形平台 🔲

**积木参数：**
- **X位置**：平台中心的 X 坐标（默认：200）
- **Y位置**：平台中心的 Y 坐标（默认：300）
- **宽度**：平台的宽度（默认：200）
- **高度**：平台的高度（默认：20）
- **平台ID**：用于标识平台的唯一ID（默认：platform1）

**功能：**
- 在指定位置创建一个隐形平台
- 角色可以站在平台上并行走
- 平台是完全隐形的，不会在屏幕上显示
- 平台具有完整的碰撞检测功能

### 2. 移除隐形平台 ❌

**积木参数：**
- **平台ID**：要移除的平台ID（默认：platform1）

**功能：**
- 根据ID移除指定的隐形平台
- 移除后角色将无法再与该平台发生碰撞

## 使用示例

### 示例1：创建固定位置的隐形平台

```
当游戏开始时
  ├─ 放置隐形平台 (200, 300) 大小 200×20 ID:platform1
  └─ 放置隐形平台 (400, 250) 大小 150×20 ID:platform2
```

### 示例2：动态控制平台的出现和消失

```
当按键 [Space] 按下时
  ├─ 如果 [变量platformVisible] = true
  │   ├─ 移除隐形平台 ID:platform1
  │   └─ 设置变量 [platformVisible] 为 false
  └─ 否则
      ├─ 放置隐形平台 (300, 400) 大小 250×25 ID:platform1
      └─ 设置变量 [platformVisible] 为 true
```

### 示例3：创建多层平台

```
当游戏开始时
  ├─ 放置隐形平台 (200, 500) 大小 400×20 ID:ground
  ├─ 放置隐形平台 (150, 400) 大小 200×15 ID:level1
  ├─ 放置隐形平台 (350, 300) 大小 200×15 ID:level2
  └─ 放置隐形平台 (200, 200) 大小 150×15 ID:level3
```

### 示例4：配合重力使用

```
当游戏开始时
  ├─ 设置重力为 15
  ├─ 启用物理模拟
  ├─ 放置隐形平台 (250, 450) 大小 500×30 ID:floor
  └─ 放置隐形平台 (300, 300) 大小 200×20 ID:platform1
```

## 注意事项

1. **平台ID必须唯一**：每个平台都需要有一个唯一的ID，否则新平台会覆盖同ID的旧平台
2. **坐标系统**：
   - X坐标：正值向右，负值向左
   - Y坐标：正值向下，负值向上
   - 坐标指的是平台的中心点
3. **碰撞检测**：
   - 角色从上方落到平台上会停止下落
   - 角色从下方跳起碰到平台会停止上升
   - 角色从侧面撞到平台会被阻挡
4. **性能考虑**：建议同时存在的隐形平台数量不要超过50个
5. **配合重力**：隐形平台与重力系统完美配合，适合制作平台跳跃游戏

## 实现原理

- **碰撞检测**：使用 AABB（轴对齐边界框）算法检测角色与平台的碰撞
- **碰撞响应**：根据碰撞方向自动调整角色位置和速度
- **地面检测**：当角色站在平台上时，会自动标记为"在地面上"状态
- **隐形实现**：平台只存在于游戏逻辑层，不会渲染到画面上

## 应用场景

- ✅ 平台跳跃游戏
- ✅ 障碍跑酷游戏
- ✅ 解谜游戏中的隐藏路径
- ✅ 需要动态改变地形的游戏
- ✅ 多层关卡设计

## 后续可能的扩展

- 移动平台（定时移动的隐形平台）
- 可破坏平台（接触一定次数后消失）
- 单向平台（只能从下方穿过，从上方站立）
- 弹跳平台（接触后给予向上的力）
